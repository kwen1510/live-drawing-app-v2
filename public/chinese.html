<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Practice Pad</title>
<style>
  body { margin:0; }
  #toolbar { padding:0.5rem; background:#eee; }
  canvas { display:block; width:100vw; height:90vh; touch-action:none; }
</style>
</head>
<body>
  <div id="toolbar">
    <label><input id="toggleBox" type="checkbox" checked> Chinese practice box</label>
    <button id="clear">Clear</button>
  </div>
  <canvas id="pad"></canvas>

<script>
const canvas = document.getElementById('pad');
const ctx = canvas.getContext('2d');
const toggleBox = document.getElementById('toggleBox');
const clearBtn = document.getElementById('clear');

function resize() {
  canvas.width = canvas.clientWidth;
  canvas.height = canvas.clientHeight;
  drawBackground();
}
window.addEventListener('resize', resize);
resize();

function drawBackground() {
  ctx.fillStyle = "#fff";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  if(!toggleBox.checked) return;
  const size = Math.min(canvas.width, canvas.height) * 0.8;
  const x = (canvas.width-size)/2, y = (canvas.height-size)/2;
  ctx.strokeStyle = "green"; ctx.lineWidth=2;
  ctx.strokeRect(x,y,size,size);
  ctx.setLineDash([5,7]); ctx.lineWidth=1;
  // vertical
  ctx.beginPath(); ctx.moveTo(x+size/2,y); ctx.lineTo(x+size/2,y+size); ctx.stroke();
  // horizontal
  ctx.beginPath(); ctx.moveTo(x,y+size/2); ctx.lineTo(x+size,y+size/2); ctx.stroke();
  ctx.setLineDash([]);
}
toggleBox.addEventListener('change', drawBackground);
clearBtn.addEventListener('click', drawBackground);

// Drawing
let drawing=false, lastX,lastY;
canvas.addEventListener('pointerdown', e=>{
  drawing=true; lastX=e.offsetX; lastY=e.offsetY;
});
canvas.addEventListener('pointermove', e=>{
  if(!drawing) return;
  ctx.strokeStyle="#000"; ctx.lineWidth=2; ctx.lineCap="round";
  ctx.beginPath();
  ctx.moveTo(lastX,lastY);
  ctx.lineTo(e.offsetX,e.offsetY);
  ctx.stroke();
  lastX=e.offsetX; lastY=e.offsetY;
});
canvas.addEventListener('pointerup', ()=>drawing=false);
canvas.addEventListener('pointerleave', ()=>drawing=false);
</script>
</body>
</html>
